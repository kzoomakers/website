# Nginx configuration for PDF.js MIME types
# Add this to your nginx server block configuration

# Set correct MIME type for JavaScript module files
types {
    text/javascript mjs;
    application/wasm wasm;
}

# Alternative: Add to your existing types block or use include
# If you already have a types block, just add:
#   text/javascript mjs;
#   application/wasm wasm;

# Gzip compression for better performance
gzip on;
gzip_types text/plain text/css text/javascript application/javascript application/json application/wasm;
gzip_vary on;

# Cache control for static assets
location ~* \.(mjs|wasm|pdf|svg)$ {
    expires 1M;
    add_header Cache-Control "public, immutable";
}

# Example full server block configuration:
# server {
#     listen 80;
#     server_name your-domain.com;
#     root /path/to/your/website;
#     
#     # Include MIME types
#     include mime.types;
#     types {
#         text/javascript mjs;
#         application/wasm wasm;
#     }
#     
#     # Gzip compression
#     gzip on;
#     gzip_types text/plain text/css text/javascript application/javascript application/json application/wasm;
#     
#     # Cache control
#     location ~* \.(mjs|wasm|pdf|svg)$ {
#         expires 1M;
#         add_header Cache-Control "public, immutable";
#     }
#     
#     location / {
#         try_files $uri $uri/ =404;
#     }
# }
